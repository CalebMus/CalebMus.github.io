<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Caleb Müsfeldt</title>
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
  <style>
    :root{
      --blue:#003bff;
      --cyan:#66e4ff;
      --yellow:#ffc800;
    }
    html,body{height:100%;margin:0;background:var(--blue);overflow:hidden;}

    .screen{position:fixed;inset:0;width:100vw;height:100vh;background:var(--blue);overflow:hidden;filter:blur(1.2px) contrast(1.05) saturate(1.1);} /* low-res CRT blur */

    /* Pixelated CRT overlay */
    .crt{position:absolute;inset:0;pointer-events:none;z-index:5;}
    .crt::before{
      content:"";position:absolute;inset:0;
      background:repeating-linear-gradient(to bottom,
        rgba(0,0,0,0.12) 0px,
        rgba(0,0,0,0.12) 2px,
        rgba(255,255,255,0.06) 3px,
        rgba(255,255,255,0.06) 4px);
      opacity:.55;mix-blend-mode:multiply;animation:rows 9s linear infinite;
    }
    .crt::after{
      content:"";position:absolute;inset:-10%;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="180" height="180" viewBox="0 0 180 180"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="1.1" numOctaves="1"/><feColorMatrix type="saturate" values="0"/><feComponentTransfer><feFuncA type="table" tableValues="0 .05 .12 .08"/></feComponentTransfer></filter><rect width="100%" height="100%" filter="url(%23n)"/></svg>');
      opacity:.25;mix-blend-mode:soft-light;animation:grain 3s steps(5,end) infinite;
      box-shadow: inset 140px 0 180px rgba(0,0,0,.25), inset -140px 0 180px rgba(0,0,0,.25);
    }
    @keyframes grain{from{transform:translate(-2%,-2%);} to{transform:translate(2%,2%);} }
    @keyframes rows{0%{transform:translateY(-1%);}100%{transform:translateY(1%);} }

    .menu{position:absolute;inset:0;display:flex;align-items:center;justify-content:flex-start;padding-left:5%;font-family:"VCR OSD Mono","VT323",monospace;letter-spacing:2px;user-select:none;text-align:left;z-index:10;}

    ul{list-style:none;padding:0;margin:0;font-size:clamp(40px, 7.8vw, 82px);line-height:1.2;text-transform:uppercase;}
    li{
      color:var(--cyan);
      white-space:pre;
      text-shadow:
        -1px -1px 0 #000,
         1px -1px 0 #000,
        -1px  1px 0 #000,
         1px  1px 0 #000,
         2px  2px 1px rgba(0,0,0,0.7),
         3px  3px 1px rgba(0,0,0,0.5);
    }
    li[aria-current="true"]{
      color:var(--yellow);
      text-shadow:
        -1px -1px 0 #000,
         1px -1px 0 #000,
        -1px  1px 0 #000,
         1px  1px 0 #000,
         0 0 10px rgba(255,200,0,.3),
         2px  2px 1px rgba(0,0,0,0.7),
         3px  3px 1px rgba(0,0,0,0.5);
    }

    .cursor{
      display:inline-block;
      width:1ch;
      margin-right:.4ch;
      color:var(--yellow);
      text-shadow:
        -1px -1px 0 #000,
         1px -1px 0 #000,
        -1px  1px 0 #000,
         1px  1px 0 #000,
         2px  2px 1px rgba(0,0,0,0.7),
         3px  3px 1px rgba(0,0,0,0.5);
    } 
    .cursor::before{content:">";} 

    #menuList:focus, *:focus{outline:none;}

    /* Touch controls */
    .touch{position:absolute;left:0;width:100%;z-index:15;}
    .touch.up{top:0;height:34%;}
    .touch.enter{top:34%;height:32%;}
    .touch.down{bottom:0;height:34%;}
    .touch{background:transparent;}
    @media (pointer: coarse){
      .touch::after{content:attr(data-label); position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); font-family:"VT323", monospace; font-size:clamp(14px,3.5vw,22px); color:rgba(255,255,255,.5);} 
      .touch.up::after{content:"UP";}
      .touch.enter::after{content:"ENTER";}
      .touch.down::after{content:"DOWN";}
    }

    /* Info box */
    .info-box{
      position:absolute;
      bottom:1rem;
      right:1rem;
      background:rgba(0,0,0,0.65);
      border:2px solid var(--cyan);
      padding:0.5rem 1rem;
      font-family:"VCR OSD Mono","VT323",monospace;
      color:var(--cyan);
      font-size:clamp(12px,2vw,16px);
      text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;
      z-index:20;
    }
  </style>
</head>
<body>
  <div class="screen" role="application" aria-label="TV menu">
    <div class="menu">
      <ul id="menuList" tabindex="0" aria-live="polite"></ul>
    </div>
    <div class="touch up" role="button" aria-label="Up"></div>
    <div class="touch enter" role="button" aria-label="Enter"></div>
    <div class="touch down" role="button" aria-label="Down"></div>
    <div class="info-box">Use the Up, Down, and Enter/Return keys to navigate.</div>
    <div class="crt" aria-hidden="true"></div>
  </div>
  <script>
    const ITEMS = [
      { label: "CALEB MÜSFELDT", static: true },
      { label: "About",   href: "about.html" },
      { label: "Research",href: "research.html" },
      { label: "Art",     href: "art.html" },
      { label: "GitHub",  href: "https://github.com/CalebMus", external: true },
      { label: "Contact", href: "contact.html" }
    ];

    const ul = document.getElementById('menuList');
    let index = 1;

    function render(){
      ul.innerHTML = "";
      ITEMS.forEach((item,i)=>{
        const li=document.createElement('li');
        if(item.static){
          const cursor=document.createElement('span');
          cursor.className='cursor';
          cursor.style.visibility='hidden';
          li.appendChild(cursor);
          li.appendChild(document.createTextNode(item.label));
        }else{
          li.setAttribute('aria-current', i===index);
          const cursor=document.createElement('span');
          cursor.className='cursor';
          cursor.style.visibility = i===index ? 'visible' : 'hidden';
          li.appendChild(cursor);
          li.appendChild(document.createTextNode(item.label));
        }
        ul.appendChild(li);
      });
    }

    function navigate(delta){
      index = ((index - 1 + delta + (ITEMS.length - 1)) % (ITEMS.length - 1)) + 1;
      render();
    }

    function activate(){
      const item = ITEMS[index];
      if(!item || item.static) return;
      if(item.external){ window.open(item.href, '_blank', 'noopener'); }
      else{ window.location.href = item.href; }
    }

    document.addEventListener('keydown', e=>{
      switch(e.key){
        case 'ArrowUp': e.preventDefault(); navigate(-1); break;
        case 'ArrowDown': e.preventDefault(); navigate(1); break;
        case 'Enter': e.preventDefault(); activate(); break;
      }
    });

    const addTap = (selector, handler)=>{
      const el = document.querySelector(selector);
      if(!el) return;
      const fn = (ev)=>{ ev.preventDefault(); handler(); };
      el.addEventListener('touchstart', fn, {passive:false});
      el.addEventListener('click', fn);
    };
    addTap('.touch.up', ()=>navigate(-1));
    addTap('.touch.down', ()=>navigate(1));
    addTap('.touch.enter', ()=>activate());

    render();
    ul.focus();
  </script>
</body>
</html>
